em Please make sure bug As per GitHub Policy blob master ISSUES md address bugs performance issues feature requests installation issues GitHub tag bug template em System information Have written custom opposed using stock script provided TensorFlow No OS Platform Distribution Linux Ubuntu Ubuntu Mobile iPhone Pixel Samsung Galaxy happens mobile NA TensorFlow installed binary Binary TensorFlow command da Bazel compiling NA GCC Compiler compiling GCC CUDA cuDNN CUDA GPU memory GTX Mobile Gb Describe current behavior Installation Keras fails following Running commands per Keras installation instructions virtual environment sudo setup install tmp easy install vOk scipy setup author email francois chollet gmail RuntimeError required Describe expected behavior Successful Keras installation Code reproduce conda create kerasenv conda activate kerasenv pip install clone keras team keras cd keras sudo setup install Other info logs errorlog txt errorlog txt Keras Issue keras team keras issues em Please make sure bug As per GitHub Policy blob master ISSUES md address bugs performance issues feature requests installation issues GitHub tag bug template em System information Have written custom opposed using stock script provided TensorFlow No OS Platform Distribution Linux Ubuntu Jupyter notebook colab research google Mobile iPhone Pixel Samsung Galaxy happens mobile NA TensorFlow installed binary Stock colab research google TensorFlow command Bazel compiling NA GCC Compiler compiling NA CUDA cuDNN NA GPU memory NA You collect information using environment capture script tree master tools env collect You also obtain TensorFlow TF print GIT VERSION VERSION TF print GIT VERSION VERSION Describe current behavior The seed via seed seed context functions passed Dataset map invoked Even single thread case Describe expected behavior The seed via seed seed context functions passed Dataset map invoked least single thread case Code reproduce seed assert elt seed get default graph seed print Seed {} format seed assert seed None Random seed Random graph operations added mapping reproducible elt seed seed seed ds Dataset generator lambda yield seed assert None ds map seed assert Can Seed Dataset Map ipynb colab research google drive SIGhYzOKc Sg DiB NFz lXKym mto scrollTo ENwL Bo BYw Other info logs originally saw locally able reproduce Jupyter notebook provided Google Here log errors see running Seed Seed None AssertionError Traceback recent call last ipython ee module seed assert None ds map seed assert frames ipython ee seed assert elt seed get default graph seed print Seed {} format seed assert seed None Random seed Random graph operations added mapping reproducible elt AssertionError Random seed Random graph operations added mapping reproducible em Please make sure installation As per GitHub Policy blob master ISSUES md address bugs performance issues feature requests installation issues GitHub tag template em System information OS Platform Distribution Linux Ubuntu Mobile iPhone Pixel Samsung Galaxy happens mobile A TensorFlow installed binary Source TensorFlow TF Installed using virtualenv pip conda conda Bazel compiling GCC Compiler compiling CUDA cuDNN GPU memory GTX GB Describe problem trying cuda followed method package always even config flag Provide exact sequence commands steps executed running problem conda create pip activate pip install upgrade force reinstall pip setuptools pip install wheel numpy scipy keras clone single branch branch master cd configure Use default values except CUDA support Y export TMP tmp bazel opt config opt config copt march native cxxopt march native tools pip package pip package verbose failures bazel bin tools pip package pip package nightly flag tmp pkg Any info logs Include logs helpful diagnose problem If including tracebacks please full traceback Large logs attached creating package following log There errors compilation process warnings Tue May EDT Preparing sources dir tmp tmp skAbFOnh ~ ~ ~ Tue May EDT ing wheel warning matching pyd directory warning matching pd directory warning matching dylib directory warning matching dll directory warning matching directory warning matching csv directory warning matching h directory warning matching directory Eigen warning matching h directory google warning matching directory third party warning matching directory unsupported Tue May EDT Output wheel tmp pkg System information OS Platform Distribution Linux Ubuntu Linux Ubuntu TensorFlow installed binary binary TensorFlow command Bazel compiling GCC Compiler compiling CUDA cuDNN GPU memory Step Train keras test OK saved h Sequential add SeparableConv D kernel padding activation relu shape shape add SeparableConv D kernel padding activation relu add MaxPooling D pool add SeparableConv D kernel padding activation relu add AveragePooling D pool add Flatten Step tensorflowjs converter keras JS $ tensorflowjs converter format keras h assets generate group shard json Step converted JS project await loadLayersModel path get errors like ERROR Error Uncaught promise Error Fields kernelInitializer kernelRegularizer kernelConstraint invalid SeparableConv D Use depthwiseInitializer depthwiseRegularizer depthwiseConstraint pointwiseInitializer pointwiseRegularizer pointwiseConstraint instead Error Fields kernelInitializer kernelRegularizer kernelConstraint invalid SeparableConv D Use depthwiseInitializer depthwiseRegularizer depthwiseConstraint pointwiseInitializer pointwiseRegularizer pointwiseConstraint instead new layers esm constructor layers esm new layers esm fromConfig esm deserializeKerasObject layers esm deserialize layers esm fromConfig layers esm deserializeKerasObject layers esm deserialize layers esm layers esm resolvePromise rejected tslib es ZoneDelegate push modules dist ZoneDelegate invoke Object onInvoke ZoneDelegate push modules dist ZoneDelegate invoke Zone push modules dist Zone ZoneDelegate push modules dist ZoneDelegate invokeTask Object onInvokeTask Note replace SeparableConv D Conv D everything OK 